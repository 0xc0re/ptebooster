{% extends "base.html" %}
{% block content %}

<div class="container">
    <div class="container-fluid text-center">    
        <div class="row content">
                <div class="col-sm-2 sidenav">
            
                    </div>
          <div class="col-sm-8 text-center"> 
              <h4 class="card-title">Question</h4>
              
              <table class="table table-hover">
                  <thead>
                    <tr>
                     
                            <p class="text-justify"><strong>You will hear a short lecture. Write a summary for a fellow student who was not present at the lecture. You should write 50-70 words. You have 10 minutes to finish this task. Your response will be judged on the Quality of Your writing and on how well 
                                    your response presents the key points presented in the lecture.</strong></p>
                      
                    </tr>
                  </thead>
                  <tbody>
                      {% for word in object_list %}
                      <tr>
                            <div class="row">
                                <div class="col-sm-4"></div>
                                      
                                          <div class="col-sm-4" style="background-color: #eee;">
                                              <h5 class="text-center"> Recorded Answer </h5>
                                              <p> Current Status :</p>
                                  
                                              <p> Playing in <span id="countdowntimer">8 </span> Seconds</p>
  
                                              <progress value="0" max="8" id="progressBar"></progress>
                                              
                                          </div>
                                          <div class="col-sm-4"></div></div>
                        </tr>
                    <tr>
                      
                      <td><audio id="audioContent" controls controlsList="nodownload"><source src="{{ word.audio.url }}" type="audio/mpeg"></audio></td>
                     
                      <td><h4 class="card-title"></h4></td>
                    </tr>
                    <tr>
                            <td>
                            <textarea id="word_count" style="width:700px; height:200px" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"></textarea> <br>
                            Total word count: <span id="display_count">0</span> words
                            <button onclick="cut()">Cut</button>
                            <button onclick="copy()">Copy</button>
                            <button onclick="paste()">Paste</button>
                            </td>
                        </tr>
                    {% endfor %}
                    <tr>
                     
                        <th scope="col text-right"></th>
                        <th scope="col"></th>
                        <th scope="col"><button type="button" class="btn btn-success">Check my Answers</button></th>
                      </tr>
                  </tbody>
                </table>

                </div>
                <div class="col-sm-2 sidenav">
                
              
                  </div>
                </div>
          </div>
        </div>
      </div>
      <script>
            var timeleft = 8;
            var downloadTimer = setInterval(function(){
              document.getElementById("progressBar").value = 8 - --timeleft;
              document.getElementById("countdowntimer").textContent = timeleft;
              if(timeleft <= 0)
                clearInterval(downloadTimer);
            },1000);
            document.getElementById("audioContent").autoplay;
        </script>
    {% if is_paginated %}
    <ul class="pagination justify-content-center">
      {% if page_obj.has_previous %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.previous_page_number }}">&laquo;</a></li>
      {% else %}
        <li class=" page-item disabled"><span class="page-link">&laquo;</span></li>
      {% endif %}
      {% for i in paginator.page_range %}
        {% if page_obj.number == i %}
          <li class="page-item active "><span class="page-link">{{ i }} <span class="sr-only">(current)</span></span></li>
        {% else %}
          <li class="page-item"><a class="page-link" href="?page={{ i }}">{{ i }}</a></li>
        {% endif %}
      {% endfor %}
      {% if page_obj.has_next %}
        <li class="page-item"><a class="page-link" href="?page={{ page_obj.next_page_number }}">&raquo;</a></li>
      {% else %}
        <li class=" page-item disabled"><span class="page-link">&raquo;</span></li>
      {% endif %}
    </ul>
  {% endif %}


</div>
      {% endblock %}
    



